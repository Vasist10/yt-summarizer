<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SmartSummarize - YouTube Video Summarizer</title>
  
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="dark-mode">
  <div class="container">
    <header>
      <nav>
        <div class="logo">
          <i class="fab fa-youtube"></i>
          <span>SmartSummarize</span>
        </div>
        <div class="nav-links">
          <a href="#" class="active">Home</a>
          <a href="#how-it-works">How It Works</a>
          <a href="#">About</a>
          <a href="#">Contact</a>
        </div>
      </nav>
    </header>

    <main>
      <section class="hero">
        <h1><span class="highlight">YouTube Video</span> Summarizer</h1>
        <p class="tagline">Get the key points from any YouTube video in seconds</p>
        
        <div class="search-container">
          <form method="POST" id="summary-form">
            <div class="input-group">
              <i class="fa-solid fa-link"></i>
              <input 
                type="text" 
                name="youtube_url" 
                id="youtube_url" 
                placeholder="Paste YouTube URL here..." 
                required
              >
            </div>
            <button type="submit" class="btn-summarize">
              <span>Summarize</span>
              <i class="fa-solid fa-wand-magic-sparkles"></i>
            </button>
          </form>
        </div>
      </section>

      {% if summary %}
      <section class="summary-section">
        <div class="video-summary-container">
          <div class="summary-header">
            <i class="fa-solid fa-file-lines"></i>
            <h2>Video Summary</h2>
          </div>
          
          <div class="summary-content">
            <ul>
              {% for line in summary.split('"') if line.strip() %}
                <li>
                  <i class="fa-solid fa-circle-check"></i>
                  <span>{{ line.strip() }}</span>
                </li>
              {% endfor %}
            </ul>
          </div>
          
          <div class="summary-actions">
            <button class="btn-copy" id="copy-summary">
              <i class="fa-regular fa-copy"></i> Copy
            </button>
            <button class="btn-download" id="download-summary">
              <i class="fa-solid fa-download"></i> Download
            </button>
          </div>
        </div>
      </section>
      {% endif %}

      <section id="how-it-works" class="how-it-works">
        <h2>How It Works</h2>
        <div class="underline"></div>
        <div class="steps">
          <div class="step">
            <div class="step-icon">
              <i class="fa-solid fa-paste"></i>
            </div>
            <h3>Paste URL</h3>
            <p>Copy and paste any YouTube video link</p>
          </div>
          <div class="step">
            <div class="step-icon">
              <i class="fa-solid fa-robot"></i>
            </div>
            <h3>AI Analysis</h3>
            <p>Our AI processes the video content</p>
          </div>
          <div class="step">
            <div class="step-icon">
              <i class="fa-solid fa-list-check"></i>
            </div>
            <h3>Get Summary</h3>
            <p>Receive key points and insights</p>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <div class="footer-content">
        <div class="footer-logo">
          <i class="fab fa-youtube"></i>
          <span>SmartSummarize</span>
        </div>
        <p>&copy; 2025 SmartSummarize. All rights reserved.</p>
      </div>
    </footer>
  </div>

  <script>
    // Copy summary functionality
    document.addEventListener('DOMContentLoaded', function() {
      const copyBtn = document.getElementById('copy-summary');
      if(copyBtn) {
        copyBtn.addEventListener('click', function() {
          const summaryText = Array.from(document.querySelectorAll('.summary-content li span'))
            .map(item => item.textContent.trim())
            .join('\n• ');
          
          navigator.clipboard.writeText('• ' + summaryText)
            .then(() => {
              copyBtn.innerHTML = '<i class="fa-solid fa-check"></i> Copied!';
              setTimeout(() => {
                copyBtn.innerHTML = '<i class="fa-regular fa-copy"></i> Copy';
              }, 2000);
            });
        });
      }

      // Download summary functionality
      const downloadBtn = document.getElementById('download-summary');
      if(downloadBtn) {
        downloadBtn.addEventListener('click', function() {
          const summaryText = Array.from(document.querySelectorAll('.summary-content li span'))
            .map(item => item.textContent.trim())
            .join('\n• ');
          
          const blob = new Blob(['YouTube Video Summary:\n\n• ' + summaryText], {type: 'text/plain'});
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = 'video-summary.txt';
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
        });
      }
    });
  </script>
</body>
</html>